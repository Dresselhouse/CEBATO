{% extends 'base.html' %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/topicmodel.css') }}">
<title>CEBATO Topic Modeling</title>
{% endblock %}

{% block body %}
<nav class="navbar" id="navbar-container"><a class="logo" href="../">CEBATO</a>
    <ul class="primary-nav">
        <li><a href="../#keywordsearch">Keyword Search</a></li>
        <li><a href="/">Topic Modeling <span>beta</span></a></li>
        <li><a class="nav-cta" href="../tour">Show me</a></li>
    </ul>
    <div class="burger">
        <div class="line1"></div>
        <div class="line2"></div>
        <div class="line3"></div>
    </div>
</nav>

<section class="hero-section">

</section>

<section class="topic-modeling-section">

    <div class="tm-container">
        <div class="tm-params-card">
            <h2 class="tm-headline">Modeling Parameters</h2>
            <form class="tm-form" action="/topicmodeling" method="POST">
                <div class="tm-parameter-fields">
                    <div class="tm-input-batch">
                        <div class="tm-label-input">
                            <label for="numbertopics">n of Topics:</label>
                            <input type="number" min="2" max="10" name="numbertopics" id="numbertopics">
                        </div>
                        <div class="tm-label-input">
                            <label for="area">Area:</label>
                            <select name="area" id="area">
                                <option value="all">All</option>
                                <option disabled>------</option>
                                <option value="Albania">Albania</option>
                                <option value="Algeria">Algeria</option>
                                <option value="Argentina">Argentina</option>
                                <option value="Australia">Australia</option>
                                <option value="Austria">Austria</option>
                                <option value="Bahamas">Bahamas</option>
                                <option value="Bahrain">Bahrain</option>
                                <option value="Barbados">Barbados</option>
                                <option value="Belgium">Belgium</option>
                                <option value="Belize">Belize</option>
                                <option value="Bolivia">Bolivia</option>
                                <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
                                <option value="Botswana">Botswana</option>
                                <option value="Brazil">Brazil</option>
                                <option value="Bulgaria">Bulgaria</option>
                                <option value="Canada">Canada</option>
                                <option value="Chile">Chile</option>
                                <option value="China">China</option>
                                <option value="Colombia">Colombia</option>
                                <option value="Croatia">Croatia</option>
                                <option value="Curaçao">Curaçao</option>
                                <option value="Cyprus">Cyprus</option>
                                <option value="Czech Republic">Czech Republic</option>
                                <option value="Denmark">Denmark</option>
                                <option value="Estonia">Estonia</option>
                                <option value="Euro area">Euro area</option>
                                <option value="Fiji">Fiji</option>
                                <option value="Finland">Finland</option>
                                <option value="France">France</option>
                                <option value="Germany">Germany</option>
                                <option value="Ghana">Ghana</option>
                                <option value="Greece">Greece</option>
                                <option value="Guatemala">Guatemala</option>
                                <option value="Guyana">Guyana</option>
                                <option value="Hong Kong SAR">Hong Kong SAR</option>
                                <option value="Hungary">Hungary</option>
                                <option value="Iceland">Iceland</option>
                                <option value="India">India</option>
                                <option value="Indonesia">Indonesia</option>
                                <option value="International">International</option>
                                <option value="Ireland">Ireland</option>
                                <option value="Israel">Israel</option>
                                <option value="Italy">Italy</option>
                                <option value="Jamaica">Jamaica</option>
                                <option value="Japan">Japan</option>
                                <option value="Jordan">Jordan</option>
                                <option value="Kenya">Kenya</option>
                                <option value="Korea, Republic of">Korea, Republic of</option>
                                <option value="Kosovo">Kosovo</option>
                                <option value="Kuwait">Kuwait</option>
                                <option value="Latvia">Latvia</option>
                                <option value="Lithuania">Lithuania</option>
                                <option value="Luxembourg">Luxembourg</option>
                                <option value="Macao SAR">Macao SAR</option>
                                <option value="Malawi">Malawi</option>
                                <option value="Malaysia">Malaysia</option>
                                <option value="Maldives">Maldives</option>
                                <option value="Malta">Malta</option>
                                <option value="Mauritius">Mauritius</option>
                                <option value="Mexico">Mexico</option>
                                <option value="Morocco">Morocco</option>
                                <option value="Mozambique">Mozambique</option>
                                <option value="Namibia">Namibia</option>
                                <option value="Nepal">Nepal</option>
                                <option value="Netherlands">Netherlands</option>
                                <option value="New Zealand">New Zealand</option>
                                <option value="Nigeria">Nigeria</option>
                                <option value="North Macedonia, Republic of">North Macedonia, Republic of</option>
                                <option value="Norway">Norway</option>
                                <option value="Organization of Eastern Caribbean States (OECS)">Organization of Eastern
                                    Caribbean States (OECS)</option>
                                <option value="Pakistan">Pakistan</option>
                                <option value="Papua New Guinea">Papua New Guinea</option>
                                <option value="Philippines">Philippines</option>
                                <option value="Portugal">Portugal</option>
                                <option value="Romania">Romania</option>
                                <option value="Russian Federation">Russian Federation</option>
                                <option value="Samoa">Samoa</option>
                                <option value="Saudi Arabia">Saudi Arabia</option>
                                <option value="Serbia">Serbia</option>
                                <option value="Seychelles">Seychelles</option>
                                <option value="Sierra Leone">Sierra Leone</option>
                                <option value="Singapore">Singapore</option>
                                <option value="Slovakia">Slovakia</option>
                                <option value="Slovenia">Slovenia</option>
                                <option value="Solomon Islands">Solomon Islands</option>
                                <option value="South Africa">South Africa</option>
                                <option value="Spain">Spain</option>
                                <option value="Sri Lanka">Sri Lanka</option>
                                <option value="Sweden">Sweden</option>
                                <option value="Switzerland">Switzerland</option>
                                <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
                                <option value="Thailand">Thailand</option>
                                <option value="Trinidad and Tobago">Trinidad and Tobago</option>
                                <option value="Turkey">Turkey</option>
                                <option value="Uganda">Uganda</option>
                                <option value="Ukraine">Ukraine</option>
                                <option value="United Arab Emirates">United Arab Emirates</option>
                                <option value="United Kingdom">United Kingdom</option>
                                <option value="United States">United States</option>
                                <option value="Uruguay">Uruguay</option>
                                <option value="Vanuatu">Vanuatu</option>
                                <option value="Zambia">Zambia</option>
                            </select>
                        </div>


                    </div>
                    <div class="tm-input-batch">
                        <div class="tm-label-input">
                            <label for="startdate">From:</label>
                            <input type="date" name="startdate" id="startdate">
                        </div>
                        <div class="tm-label-input">
                            <label for="enddate">Until:</label>
                            <input type="date" name="enddate" id="enddate">
                        </div>
                    </div>
                </div>
                <input class="tm-btn" type="submit" value="Search">
            </form>
        </div>
        <div class="tm-topics-card">
            <h2>Top words for each topic</h2>
            <div class="tm-topics-batch-container">
                {% for topic in topics %}
                    <div class="tm-topic-card tm-topic-card-{{ loop.index }}">
                        <h4 class="color-{{ topic[2] }}">Topic {{ topic[2] }}: {{ topic[0] }}% of Speeches</h4>
                        <p>{{ topic[1] }}</p>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="tm-plot-card">
            <img src="/{{ path }}" alt="LDA Results">
            <p>An overview of the topic distributions over time. Each point represents one speech. The X-Axis shows the dates of the first found speech until the last. The colors mark the topic with the highest match. The Y-Axis shows the percentage to which this topic matches the content of the speech.</p>
        </div>
    </div>
</section>
{% endblock %}